/*!
 * GentleForm - v0.0.0
 * Form validation, the right way.
 * https://github.com/Zhouzi/GentleForm
 *
 * @author Gabin Aureche
 * @license MIT
 */

!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.GentleForm=e():t.GentleForm=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),u=i(o),s=n(15),f=i(s),l={},c=function(){function t(e,n){var i=this;r(this,t);var a=this.$form=u["default"](e);this.onSubmit="function"==typeof n?n:function(){},a.on("change",function(t){var e=u["default"](t.target);e.setState("changed",!0,a),i.validate(e)}).on("input",function(t){var e=u["default"](t.target);(e.hasState("changed")||e.hasState("submitted"))&&i.validate(e)}).on("submit",function(t){a.setState("submitted",!0,a);var e=a.validity(),n=e.children,r={},o=void 0;n.forEach(function(t){o=u["default"](t.element),f["default"].isButton(o)||(o.setState("submitted",!0,a),i.validate(o),r[o.attr("name")]={validity:t.validity,value:o.val()})}),i.validate(a),i.onSubmit(t,e.valid,r)}),u["default"]("[data-include]").each(function(t){var e=u["default"](t),n=e.attr("data-include");"string"!=typeof l[n]&&(l[n]=u["default"]("#"+n).text()),e.html(e.html()+l[n])}),u["default"]("[data-errors-when]",a).hide()}return a(t,[{key:"validate",value:function(t){var e=this;t.each(function(t){var n=u["default"](t),i=n.validity();i.valid?n.setState("valid",!0,e.$form).setState("invalid",!1,e.$form):n.setState("invalid",!0,e.$form).setState("valid",!1,e.$form);var r=u["default"]('[data-errors-for="'+n.attr("name")+'"]',e.$form),a=void 0;r.each(function(t){for(var e in i)i.hasOwnProperty(e)&&(a=u["default"]('[data-errors-when="'+e+'"]',t),i[e]?a.show():a.hide())})})}}]),t}();e["default"]=c,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),a=i(r),o=n(3),u=i(o);n(4),n(5),n(6),n(7),n(8),n(9),n(12),n(13),n(14),u["default"].fn.setState=function(t,e,n){"invalid"==t&&e===!0||"valid"==t&&e===!1?this.aria("invalid",!0):("invalid"==t&&e===!1||"valid"==t&&e===!0)&&this.aria("invalid",!1);var i="is-"+t,r=new a["default"]('[data-state-for="'+this.attr("name")+'"]',n).add(this.get());return e?r.addClass(i):r.removeClass(i),this},u["default"].fn.hasState=function(t){return this.hasClass("is-"+t)},u["default"].fn.show=function(){return this.aria("hidden",!1).removeClass("is-hidden")},u["default"].fn.hide=function(){return this.aria("hidden",!0).addClass("is-hidden")},e["default"]=a["default"],t.exports=e["default"]},function(t,e,n){var i,r;i=[n(3)],r=function(t){return function(e,n){return new t(e,n)}}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[],r=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?document:arguments[1];n instanceof t&&(n=n.get(0)),e instanceof t?this._elements=e.get():"string"==typeof e?this._elements=[].slice.call(n.querySelectorAll(e)):e instanceof Array?this._elements=e:this._elements=[e]}return t.fn=t.prototype={constructor:t,get:function(t){return void 0===t?this._elements:this._elements[t]},each:function(t){return this._elements.forEach(t),this},add:function(e,n){return this._elements=this._elements.concat(new t(e,n).get()),this}},t}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[n(3)],r=function(t){return t.fn.on=function(t,e){var n=t.replace(/\s/g,"").split(",");return this.each(function(t){n.forEach(function(n){t.addEventListener(n,e,["focus","blur"].indexOf(n)>-1)})})},t}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[n(3)],r=function(t){return t.fn.addClass=function(t){return this.each(function(e){e.classList.add(t)}),this},t.fn.removeClass=function(t){return this.each(function(e){e.classList.remove(t)}),this},t.fn.hasClass=function(t){return this.get(0).classList.contains(t)},t}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[n(3)],r=function(t){return t.fn.html=function(t){return void 0!==t?(this.each(function(e){e.innerHTML=t}),this):this.get(0).innerHTML},t}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[n(3)],r=function(t){return t.fn.hasAttr=function(t){return this.get(0).hasAttribute(t)},t.fn.attr=function(t,e){return void 0!==e?(this.each(function(n){n.setAttribute(t,e)}),this):this.get(0).getAttribute(t)},t}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[n(3)],r=function(t){return t.fn.checked=function(t){return void 0!==t?(this.each(function(e){e.checked=!!t}),this):this.get(0).checked},t}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[n(3),n(10),n(11)],r=function(t){return t.fn.validators=[{name:"valueMissing",attribute:"required",isInvalid:function(e){var n=e.attr("type");if("checkbox"==n)return!e.checked();if("radio"!=n)return e.val().length<=0;var i=e.attr("name");if("string"!=typeof i)return!1;for(var r=new t('[type="radio"][name="'+i+'"]').get(),a=0,o=r.length;o>a;a++)if(new t(r[a]).checked())return!1;return!0}},{name:"patternMismatch",attribute:"pattern",isInvalid:function(t){return!new RegExp(t.attr("pattern")).test(t.val())}},{name:"rangeOverflow",attribute:"max",isInvalid:function(t){return t.val()>t.attr("max")}},{name:"rangeUnderflow",attribute:"min",isInvalid:function(t){return t.val()<t.attr("min")}},{name:"tooShort",attribute:"minlength",isInvalid:function(t){return t.val().length<t.attr("minlength")}},{name:"tooLong",attribute:"maxlength",isInvalid:function(t){return t.val().length>t.attr("maxlength")}},{name:"typeMismatch",attribute:"type",isInvalid:function(t){var e=t.attr("type");return"email"==e?!/[^\s]+@[^\s]+/.test(t.val()):"number"==e?/[^0-9]/g.test(t.val()):"url"==e?!/(http|ftp)s?:\/\//.test(t.val()):!1}},{name:"customError"},{name:"stepMismatch"}],t.fn.checkValidity=function(){return this.validity().valid},t.fn.validity=function(){var e=this,n=void 0;if("form"==this.prop("tagName")){var i=function(){var i=e.formChildren();n={valid:!0,children:[]};var r=void 0,a=void 0;return i.forEach(function(e){if(a=new t(e),["button","submit"].indexOf(a.attr("type"))<0&&"button"!=a.tagName){r=new t(e).validity(),n.children.push({element:e,validity:r});for(var i in r)r.hasOwnProperty(i)&&(void 0===n[i]&&(n[i]=r[i]),"valid"==i?r[i]===!1&&(n.valid=!1):r[i]===!0&&(n[i]=!0))}}),{v:n}}();if("object"==typeof i)return i.v}n=this.get(0).validity||{};var r={valid:!0};return this.validators.forEach(function(t){var i=!1;r.valid?void 0!==n[t.name]?i=r[t.name]=n[t.name]:"function"==typeof t.isInvalid?i=r[t.name]=t.isInvalid(e):r[t.name]=!1:r[t.name]=!1,i&&(r.valid=!1)}),r},t}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[n(3)],r=function(t){return t.fn.prop=function(t,e){if(void 0!==e)return this.each(function(n){n[t]=e}),this;var n=this.get(0)[t];return"tagName"==t?n.toLowerCase():n},t}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[n(3),n(10)],r=function(t){return t.fn.formChildren=function(){if("form"!==this.prop("tagName"))throw new Error('.formChildren expected element to be a <form> but got "'+this.prop("tagName")+'"');for(var t=this.get(0),e=[],n=0,i=t.length;i>n;n++)e.push(t[n]);return e},t}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[n(3)],r=function(t){return t.fn.val=function(t){return void 0!==t?(this.each(function(e){e.value=t}),this):this.get(0).value},t}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[n(3),n(7)],r=function(t){return t.fn.aria=function(t,e){return this.attr("aria-"+t,e)},t}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[n(3)],r=function(t){return t.fn.text=function(t){return void 0!==t?(this.each(function(e){e.textContent=t}),this):this.get(0).textContent},t}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={isButton:function(t){return"button"==t.prop("tagName")||["button","submit"].indexOf(t.attr("type"))>-1}},t.exports=e["default"]}])});