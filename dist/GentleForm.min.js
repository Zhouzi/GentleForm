/*!
 * GentleForm - v1.0.0
 * Accessible and user-friendly HTML5 form validation library.
 * https://github.com/Zhouzi/GentleForm
 *
 * @author Gabin Aureche
 * @license MIT
 */

!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.GentleForm=e():t.GentleForm=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),u=r(o),s=n(15),f=r(s),l={},d=0,c=function(){function t(e,n){var r=this;i(this,t);var a=this.$form=u["default"](e);this.onSubmit="function"==typeof n?n:function(){},a.on("change",function(t){var e=u["default"](t.target);e.setState("changed",!0,a),r.validate(e)}).on("input",function(t){var e=u["default"](t.target);(e.hasState("changed")||e.hasState("submitted"))&&r.validate(e)}).on("submit",function(t){a.setState("submitted",!0,a);var e=a.validity(),n=e.children,i={},o=void 0;n.forEach(function(t){o=u["default"](t.element),f["default"].isButton(o)||(o.setState("submitted",!0,a),r.validate(o),i[o.attr("name")]={validity:t.validity,value:o.val()})}),r.validate(a),r.onSubmit(t,e.valid,i)}),u["default"]("[data-include]",a).each(function(t){var e=u["default"](t),n=e.attr("data-include");"string"!=typeof l[n]&&(l[n]=u["default"]("#"+n).text()),e.html(e.html()+l[n])}),u["default"]("[data-errors-when]",a).hide(),this.refreshAria()}return a(t,[{key:"validate",value:function(t){var e=this;return t.each(function(t){var n=u["default"](t),r=n.validity();r.valid?n.setState("valid",!0,e.$form).setState("invalid",!1,e.$form):n.setState("invalid",!0,e.$form).setState("valid",!1,e.$form);var i=u["default"]('[data-errors-for="'+n.attr("name")+'"]',e.$form),a=void 0;i.each(function(t){for(var e in r)r.hasOwnProperty(e)&&(a=u["default"]('[data-errors-when="'+e+'"]',t),r[e]?a.show():a.hide())})}),this}},{key:"refreshAria",value:function(){var t=this,e=void 0;return u["default"]("[required], [aria-required]",this.$form).each(function(t){e=u["default"](t),e.prop("required")?e.aria("required",!0):e.removeAttr("aria-required")}),u["default"]("[data-errors-for]",this.$form).each(function(n){e=u["default"](n),e.attr("role","alert").aria("live","assertive").aria("atomic",!0);var r=e.attr("data-errors-for"),i=u["default"]('[name="'+r+'"]',t.$form);if(i.length()){var a=e.attr("id");"string"==typeof a&&a.length||(a="gentle_"+d++,e.attr("id",a));var o=i.aria("describedby");"string"!=typeof o&&(o=""),o=o.split(" "),o.indexOf(a)<0&&o.push(a),i.aria("describedby",o.join(" ").trim())}}),this}}]),t}();e["default"]=c,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),a=r(i),o=n(3),u=r(o);n(4),n(5),n(6),n(7),n(8),n(9),n(12),n(13),n(14),u["default"].fn.setState=function(t,e,n){"invalid"==t&&e===!0||"valid"==t&&e===!1?this.aria("invalid",!0):("invalid"==t&&e===!1||"valid"==t&&e===!0)&&this.aria("invalid",!1);var r="is-"+t,i=new a["default"]('[data-states-for="'+this.attr("name")+'"]',n).add(this.get());return e?i.addClass(r):i.removeClass(r),this},u["default"].fn.hasState=function(t){return this.hasClass("is-"+t)},u["default"].fn.show=function(){return this.aria("hidden",!1).removeClass("is-hidden")},u["default"].fn.hide=function(){return this.aria("hidden",!0).addClass("is-hidden")},e["default"]=a["default"],t.exports=e["default"]},function(t,e,n){var r,i;r=[n(3)],i=function(t){return function(e,n){return new t(e,n)}}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[],i=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?document:arguments[1];n instanceof t&&(n=n.get(0)),e instanceof t?this._elements=e.get():"string"==typeof e?this._elements=[].slice.call(n.querySelectorAll(e)):e instanceof Array?this._elements=e:this._elements=[e]}return t.fn=t.prototype={constructor:t,get:function(t){return void 0===t?this._elements:this._elements[t]},length:function(){return this._elements.length},each:function(t){return this._elements.forEach(t),this},add:function(e,n){return this._elements=this._elements.concat(new t(e,n).get()),this}},t}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[n(3)],i=function(t){return t.fn.on=function(t,e){var n=t.replace(/\s/g,"").split(",");return this.each(function(t){n.forEach(function(n){t.addEventListener(n,e,["focus","blur"].indexOf(n)>-1)})})},t}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[n(3)],i=function(t){return t.fn.addClass=function(t){return this.each(function(e){e.classList.add(t)}),this},t.fn.removeClass=function(t){return this.each(function(e){e.classList.remove(t)}),this},t.fn.hasClass=function(t){return this.get(0).classList.contains(t)},t}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[n(3)],i=function(t){return t.fn.html=function(t){return void 0!==t?(this.each(function(e){e.innerHTML=t}),this):this.get(0).innerHTML},t}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[n(3)],i=function(t){return t.fn.hasAttr=function(t){return this.get(0).hasAttribute(t)},t.fn.attr=function(t,e){return void 0!==e?(this.each(function(n){n.setAttribute(t,e)}),this):this.get(0).getAttribute(t)},t.fn.removeAttr=function(t){return this.each(function(e){e.removeAttribute(t)}),this},t}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[n(3)],i=function(t){return t.fn.checked=function(t){return void 0!==t?(this.each(function(e){e.checked=!!t}),this):this.get(0).checked},t}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[n(3),n(10),n(11)],i=function(t){return t.fn.validators=[{name:"valueMissing",attribute:"required",isInvalid:function(e){var n=e.attr("type");if("checkbox"==n)return!e.checked();if("radio"!=n)return e.val().length<=0;var r=e.attr("name");if("string"!=typeof r)return!1;for(var i=new t('[type="radio"][name="'+r+'"]').get(),a=0,o=i.length;o>a;a++)if(new t(i[a]).checked())return!1;return!0}},{name:"patternMismatch",attribute:"pattern",isInvalid:function(t){return!new RegExp(t.attr("pattern")).test(t.val())}},{name:"rangeOverflow",attribute:"max",isInvalid:function(t){return t.val()>t.attr("max")}},{name:"rangeUnderflow",attribute:"min",isInvalid:function(t){return t.val()<t.attr("min")}},{name:"tooShort",attribute:"minlength",isInvalid:function(t){return t.val().length<t.attr("minlength")}},{name:"tooLong",attribute:"maxlength",isInvalid:function(t){return t.val().length>t.attr("maxlength")}},{name:"typeMismatch",attribute:"type",isInvalid:function(t){var e=t.attr("type");return"email"==e?!/[^\s]+@[^\s]+/.test(t.val()):"number"==e?/[^0-9]/g.test(t.val()):"url"==e?!/(http|ftp)s?:\/\//.test(t.val()):!1}},{name:"customError"},{name:"stepMismatch"}],t.fn.checkValidity=function(){return this.validity().valid},t.fn.validity=function(){var e=this,n=void 0;if("form"==this.prop("tagName")){var r=function(){var r=e.formChildren();n={valid:!0,children:[]};var i=void 0,a=void 0;return r.forEach(function(e){if(a=new t(e),["button","submit"].indexOf(a.attr("type"))<0&&"button"!=a.tagName){i=new t(e).validity(),n.children.push({element:e,validity:i});for(var r in i)i.hasOwnProperty(r)&&(void 0===n[r]&&(n[r]=i[r]),"valid"==r?i[r]===!1&&(n.valid=!1):i[r]===!0&&(n[r]=!0))}}),{v:n}}();if("object"==typeof r)return r.v}n=this.get(0).validity||{};var i={valid:!0};return this.validators.forEach(function(t){var r=!1;i.valid?void 0!==n[t.name]?r=i[t.name]=n[t.name]:"function"==typeof t.isInvalid?r=i[t.name]=t.isInvalid(e):i[t.name]=!1:i[t.name]=!1,r&&(i.valid=!1)}),i},t}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[n(3)],i=function(t){return t.fn.prop=function(t,e){if(void 0!==e)return this.each(function(n){n[t]=e}),this;var n=this.get(0)[t];return"tagName"==t?n.toLowerCase():n},t}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[n(3),n(10)],i=function(t){return t.fn.formChildren=function(){if("form"!==this.prop("tagName"))throw new Error('.formChildren expected element to be a <form> but got "'+this.prop("tagName")+'"');for(var t=this.get(0),e=[],n=0,r=t.length;r>n;n++)e.push(t[n]);return e},t}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[n(3)],i=function(t){return t.fn.val=function(t){return void 0!==t?(this.each(function(e){e.value=t}),this):this.get(0).value},t}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[n(3),n(7)],i=function(t){return t.fn.aria=function(t,e){return this.attr("aria-"+t,e)},t.fn.removeAria=function(t){return this.removeAttr("aria-"+t)},t}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[n(3)],i=function(t){return t.fn.text=function(t){return void 0!==t?(this.each(function(e){e.textContent=t}),this):this.get(0).textContent},t}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={isButton:function(t){return"button"==t.prop("tagName")||["button","submit"].indexOf(t.attr("type"))>-1}},t.exports=e["default"]}])});